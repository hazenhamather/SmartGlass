# SmartGlass

Smart Glass will be a spin off of the original Magic Mirror developed by Michael Teeuw. The team plans to build a setup that is very similar to his but take it a step further and implement motion control by using an Xbox Kinect. The hardware aspect of this project is 95% complete outside of a fresh coat of paint and a mounting bracket. The frame and housing has been constructed and the mirror film applied to the glass and installed in the frame. The monitor that rests behind the glass has been securely fastened into place and an external button has been soldered to it to turn the monitor on and off as desired by the user. Currently, we have discovered a way to access some of the functionality associated with the Kinect such as IR distance and the camera itself, utilizing OpenKinect, which is an open source Kinect library. We have also designed a sleek (at least we think so) user interface that displays information the user might find important or interesting. One of the major problems continuing to plague the team is the lack of access to the Kinect. OpenKinect has limited capabilities with respect to our project scope, leading us to seek out other methods such as OpenNI2.

Getting the mirror up and running is as easy as installation. First cd into the proper directory:
alarm@alarm$ cd ~/SmartGlass/SmartGlass/FlipClock-master
Next, open TestingAPI.html in Chrome. 

Done! This file will work on either the BeagleBone or a host computer. In order to move the BeagleBone to display mode a monitor of some kind, run:
startxfce4
This will give the GUI that will allow you to open TestingAPI.html on the bone. Also, be sure to download Chromium to view.
Note: This project was built for Arch but any modifications that need to be made to run on Debian or another distribution should be quite minor.

The highlights of this project are certainly the durable frame combined with the simple user interface that is extremely modular. With the wifi chip hooked up the the BeagleBone, we can push updates, change the look, and even add features as time goes on, all without ever taking the frame off the wall. The usability is incredible and the user experience will significantly improve when full functionality of the Kinect is achieved. Here is a YouTube demo of the project in action with an explanation.

One neat thing we would like to see done at some point is create this same project but run Windows instead. Using Windows for development opens up most (if not all) of the capabilities of the Kinect granted to it by Microsoft. It would make for an easier gesture recognition and also give the ability to do some very complex motion tracking or even facial recognition. Advanced techniques such as the previous could allow the same mirror to be customized for multiple users.

The project was a lot more challenging than the team originally anticipated. The challenging of creating a reflective surface allowing light to pass through was difficult, especially at a low price point. In addition, mounting the glass in a frame was also difficult, the entire mount/frame took about 13 hours to complete. The Kinect was also another difficult problem. While getting Skelton Tracking working on a Windows/x86 host was trivial, the problem arose when getting the software to work on ARM systems such as the BBB. The software that originally was chosen to do skeleton tracking was OpenNI, NiTE, and PrimeSense Sensor Kinect. The only issue is Apple bought and shut this company down, and their old software is no longer updated. The ARM package of NiTE had segmentation faults on the BBB, and after countless hours was determined to be unworkable. A switch to ROS (Robot Operating System), but the switch was not made in time to get tracking working. What *did* work however, was retrieving the camera and depth map from the Kinect.
The project was an extremely good learning experience, and the team can not wait to add tracking functionality in the future. While this may not even be possible on ARM or a slightly sluggish core like the BBB, it will continue to be researched. The tasks we already completed were difficult and excellent and looking back, adding the Kinect functionality could have been an entire project on its own. But alas, this project will continue and part 2 does consist of interfacing both Kinect and user.
